<!DOCTYPE html><html lang="en-GB" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Docker Series (Chapter 4/4): Introducing Container Network and Practising Container Data Management | Haoyang Sun's Blog</title><meta name="author" content="Haoyang Sun"><meta name="copyright" content="Haoyang Sun"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="This article mainly introduces the original network capability of docker and some information about the drive and data bind as well.">
<meta property="og:type" content="article">
<meta property="og:title" content="Docker Series (Chapter 4&#x2F;4): Introducing Container Network and Practising Container Data Management">
<meta property="og:url" content="https://blog.sunhaoyang.net/Cloud/Docker/Introducing-container-network-and-practising-container-data-management/index.html">
<meta property="og:site_name" content="Haoyang Sun&#39;s Blog">
<meta property="og:description" content="This article mainly introduces the original network capability of docker and some information about the drive and data bind as well.">
<meta property="og:locale" content="en_GB">
<meta property="og:image" content="https://blog.sunhaoyang.net/images/Docker.png">
<meta property="article:published_time" content="2025-02-06T02:41:33.000Z">
<meta property="article:modified_time" content="2025-02-06T06:53:53.665Z">
<meta property="article:author" content="Haoyang Sun">
<meta property="article:tag" content="Docker">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blog.sunhaoyang.net/images/Docker.png"><link rel="shortcut icon" href="https://blog.sunhaoyang.net/images/favicon.ico"><link rel="canonical" href="https://blog.sunhaoyang.net/Cloud/Docker/Introducing-container-network-and-practising-container-data-management/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!true && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          const mediaQueryDark = window.matchMedia('(prefers-color-scheme: dark)')
          const mediaQueryLight = window.matchMedia('(prefers-color-scheme: light)')
          
          if (theme === undefined) {
            if (mediaQueryLight.matches) activateLightMode()
            else if (mediaQueryDark.matches) activateDarkMode()
            else {
              const hour = new Date().getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            mediaQueryDark.addEventListener('change', () => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else {
            theme === 'light' ? activateLightMode() : activateDarkMode()
          }
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"No results found for: ${query}","hits_stats":"${hits} articles found"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":true},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Failed',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: true,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Docker Series (Chapter 4/4): Introducing Container Network and Practising Container Data Management',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  isShuoshuo: false
}</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="https://blog.sunhaoyang.net/images/myphoto.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">15</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">5</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">4</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Homepage</span></a></div><div class="menus_item"><a class="site-page" href="/about"><i class="fa-fw fa-solid fa-user"></i><span> About the author</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">Haoyang Sun's Blog</span></a><a class="nav-page-title" href="/"><span class="site-name">Docker Series (Chapter 4/4): Introducing Container Network and Practising Container Data Management</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> Search</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Homepage</span></a></div><div class="menus_item"><a class="site-page" href="/about"><i class="fa-fw fa-solid fa-user"></i><span> About the author</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">Docker Series (Chapter 4/4): Introducing Container Network and Practising Container Data Management</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2025-02-06T02:41:33.000Z" title="Created 2025-02-06 10:41:33">2025-02-06</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2025-02-06T06:53:53.665Z" title="Updated 2025-02-06 14:53:53">2025-02-06</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Cloud/">Cloud</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">Word Count:</span><span class="word-count">1.8k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">Reading Time:</span><span>11mins</span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">Comments:</span><a href="/Cloud/Docker/Introducing-container-network-and-practising-container-data-management/index.html#post-comment"><span id="twikoo-count"><i class="fa-solid fa-spinner fa-spin"></i></span></a></span></div></div></div><article class="container post-content" id="article-container"><blockquote>
<p>For information on how to install Docker, please refer to: <a href="https://blog.sunhaoyang.net/Cloud/Docker/Installing-docker-engine-in-Ubuntu/index.html">Docker Series (Chapter 0): Installing docker-engine in Ubuntu</a>.</p>
</blockquote>
<blockquote>
<p>For guidance on how to create and use Docker images, please refer to: <a href="https://blog.sunhaoyang.net/Cloud/Docker/Building-and-using-images/index.html">Docker Series (Chapter 1): Building and using images</a>.</p>
</blockquote>
<blockquote>
<p>For guidance on how to create and use Docker containers, please refer to: <a href="https://blog.sunhaoyang.net/Cloud/Docker/Creating-and-using-containers/index.html">Docker Series (Chapter 2): Creating and Using containers</a>.</p>
</blockquote>
<blockquote>
<p>For guidance on how to manage Docker resources, please refer to: <a href="https://blog.sunhaoyang.net/Cloud/Docker/Managing-container-resources/index.html">Docker Series (Chapter 3): Managing Container Resources</a>.</p>
</blockquote>
<p>This will be the final chapter of the Docker series. In this chapter, I will introduce the native networking and data management aspects of Docker containers.</p>
<h2 id="Ice-breaking-topic"><a href="#Ice-breaking-topic" class="headerlink" title="Ice-breaking topic"></a>Ice-breaking topic</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --rm -it centos /bin/bash</span><br></pre></td></tr></table></figure>

<p>At first, let’s begin to create a container using the above command here.</p>
<p>Then, we are trying to <code>ping</code> <em>&lt;<a href="http://www.baidu.com>">www.baidu.com&gt;</a></em> in the interactive interior terminal console in the container.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">shy@flash-shy:~$ docker run --rm -it centos /bin/bash</span><br><span class="line">Unable to find image &#x27;centos:latest&#x27; locally</span><br><span class="line">latest: Pulling from library/centos</span><br><span class="line">a1d0c7532777: Pull complete</span><br><span class="line">Digest: sha256:a27fd8080b517143cbbbab9dfb7c8571c40d67d534bbdee55bd6c473f432b177</span><br><span class="line">Status: Downloaded newer image for centos:latest</span><br><span class="line">[root@e82126d4b596 /]# ping www.baidu.com</span><br><span class="line">PING www.wshifen.com (119.63.197.139) 56(84) bytes of data.</span><br><span class="line">64 bytes from 119.63.197.139 (119.63.197.139): icmp_seq=1 ttl=47 time=83.3 ms</span><br><span class="line">64 bytes from 119.63.197.139 (119.63.197.139): icmp_seq=2 ttl=47 time=83.3 ms</span><br><span class="line">64 bytes from 119.63.197.139 (119.63.197.139): icmp_seq=3 ttl=47 time=83.2 ms</span><br><span class="line">64 bytes from 119.63.197.139 (119.63.197.139): icmp_seq=4 ttl=47 time=83.1 ms</span><br><span class="line">64 bytes from 119.63.197.139 (119.63.197.139): icmp_seq=5 ttl=47 time=83.1 ms</span><br><span class="line">64 bytes from 119.63.197.139 (119.63.197.139): icmp_seq=6 ttl=47 time=83.1 ms</span><br><span class="line">^C</span><br><span class="line">--- www.wshifen.com ping statistics ---</span><br><span class="line">6 packets transmitted, 6 received, 0% packet loss, time 5005ms</span><br><span class="line">rtt min/avg/max/mdev = 83.115/83.173/83.266/0.063 ms</span><br></pre></td></tr></table></figure>

<p>It’s interesting we just use these parameters when creating the container.</p>
<ul>
<li><p><code>--rm</code>: This option tells Docker to automatically remove the container once it stops running. This is useful for keeping things clean when you’re running a container for a short-term task (like we are debugging or testing).</p>
</li>
<li><p><code>-i</code>: This option stands for <strong>interactive</strong>, which keeps the container’s standard input open. i is the abbreviation of the Capital letter in interactive.</p>
</li>
<li><p><code>-t</code>: This option allocates a pseudo-TTY (a terminal interface) for the container. This is what allows you to interact with the container via a command line.</p>
</li>
<li><p><code>centos</code>: This specifies the Docker image to use.</p>
</li>
<li><p><code>/bin/bash</code>: This is the command to run inside the container. It will start a bash shell session inside the CentOS container, allowing you to interact with it like you’re logged into a normal Linux system.</p>
</li>
</ul>
<p>When we create a container, we haven’t attached a network interface card (NIC), nor have we set an IP address, let alone configured an external network route. So, how is it that our ping operation is successful?</p>
<hr>
<h2 id="Container-Original-Network"><a href="#Container-Original-Network" class="headerlink" title="Container Original Network"></a>Container Original Network</h2><p>Docker natively provides several types of networks. If we are not satisfied with the default networks, we can also create custom networks. The default networks are: none, bridge, and host. These networks are automatically created when Docker is installed. We can view them using the following command.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">shy@flash-shy:~$ docker network ls</span><br><span class="line">NETWORK ID     NAME      DRIVER    SCOPE</span><br><span class="line">1b42685dde7f   bridge    bridge    local</span><br><span class="line">610f1e7d2013   host      host      local</span><br><span class="line">11d5d9017fcd   none      null      local</span><br></pre></td></tr></table></figure>

<h3 id="none-network"><a href="#none-network" class="headerlink" title="none network"></a>none network</h3><p>If a container uses the <code>none</code> network, it will not have a typical network interface card (NIC) as we generally understand it. Instead, it will only have the loopback (lo) network. To use this network, you simply need to specify <code>--network=none</code> when creating the container.</p>
<p>Now, let’s think: What might be the use case for this network?</p>
<p>The <code>none</code> network is a more <code>isolated</code> network, suitable for scenarios that require high security and no network connectivity. For instance, applications like <strong>receiving verification codes</strong> or <strong>generating random numbers on your phone</strong> could benefit from being placed on the ‘none’ network to prevent data from being intercepted.</p>
<h3 id="host-network"><a href="#host-network" class="headerlink" title="host network"></a>host network</h3><p>The <code>host</code> network, on the other hand, is a network where a container shares the host’s network stack. You can specify this network using <code>--network=host</code> when creating the container. When a container is in host network mode, its network configuration is identical to that of the host machine. This means the container can see all the network interfaces of the host, and its hostname will match that of the host as well. The major advantage of using the host network is <code>its performance</code>, as it offers <code>high speed and excellent data transfer rates</code>. However, any ports already in use by the host are unavailable to the container.”</p>
<h3 id="bridge-network"><a href="#bridge-network" class="headerlink" title="bridge network"></a>bridge network</h3><p>The <code>bridge</code> network is the <code>default network driver</code> used by Docker containers when no other network is specified. It creates a <code>private internal</code> network on the host system, and each container that uses this network can <code>communicate with other containers</code> on the same bridge network, as well as with the <code>host machine</code>.</p>
<p>In a bridge network, Docker <code>automatically assigns a private IP address to each container</code>. Containers can talk to each other using these private IPs, but they <code>can&#39;t directly communicate with the external network</code> unless you configure port forwarding. To access services running inside a container from outside, you’d typically <code>map the container&#39;s internal ports to ports on the host machine</code>.</p>
<h3 id="Key-Points-of-three-types-network"><a href="#Key-Points-of-three-types-network" class="headerlink" title="Key Points of three types network"></a>Key Points of three types network</h3><ul>
<li><p><code>None Network</code>: Completely isolated with no external network access, ideal for high-security, non-networked tasks.</p>
</li>
<li><p><code>Host Network</code>: Shares the host machine’s network stack, offering high performance, but limits port usage since the host’s ports are already in use.</p>
</li>
<li><p><code>Bridge Network</code>:</p>
<ul>
<li><p><code>Isolation</code>: Containers are isolated from the outside world, but can communicate with each other within the same network.</p>
</li>
<li><p><code>Port Mapping</code>: If you want external access to a container’s services, you have to map its internal ports to the host machine’s ports.</p>
</li>
<li><p><code>Default Mode</code>: When you create a container without specifying a network, it will automatically use the bridge network.</p>
</li>
</ul>
</li>
</ul>
<hr>
<h2 id="Container-Storage"><a href="#Container-Storage" class="headerlink" title="Container Storage"></a>Container Storage</h2><h3 id="The-Container-and-Layer"><a href="#The-Container-and-Layer" class="headerlink" title="The Container and Layer"></a>The Container and Layer</h3><p>The biggest difference between a container and an image lies in <code>the topmost writable layer</code>. Any data written or modified within the container is directly stored in this writable layer. This means that <code>when a container is deleted, the data in the writable layer is lost</code>. Although each container has its own distinct writable layer, the underlying image can be shared across multiple containers.</p>
<blockquote>
<p>The image picture here is based on <a target="_blank" rel="noopener" href="https://docker-docs.uclv.cu/storage/storagedriver/#container-and-layers">the Official Website</a>.<br><img src="/./../images/sharing-layers.jpg" alt="sharing-layers"></p>
</blockquote>
<h3 id="Widely-Used-Storage-Drivers"><a href="#Widely-Used-Storage-Drivers" class="headerlink" title="Widely Used Storage Drivers"></a>Widely Used Storage Drivers</h3><p>When designing and using containers, the amount of data written to the container’s writable layer is usually very small. However, in operations, most of the data needs to be persistently stored. To address the volatility of the data in the writable layer, several storage drivers have been introduced in containers.</p>
<p>The mainstream supported storage drivers currently include as below.</p>
<blockquote>
<p>Here, I referred to <a target="_blank" rel="noopener" href="https://docker-docs.uclv.cu/storage/storagedriver/select-storage-driver/#supported-storage-drivers-per-linux-distribution">the Official Website</a> and created the following table.</p>
</blockquote>
<table>
<thead>
<tr>
<th align="center">Linux distribution</th>
<th align="center">Recommended storage drivers</th>
<th align="center">Alternative drivers</th>
</tr>
</thead>
<tbody><tr>
<td align="center">Docker Engine - Community on Ubuntu</td>
<td align="center">overlay2 or aufs (for Ubuntu 14.04 running on kernel 3.13)</td>
<td align="center">overlay¹, devicemapper², zfs, vfs</td>
</tr>
<tr>
<td align="center">Docker Engine - Community on Debian</td>
<td align="center">overlay2 (Debian Stretch), aufs or devicemapper (older versions)</td>
<td align="center">overlay¹, vfs</td>
</tr>
<tr>
<td align="center">Docker Engine - Community on CentOS</td>
<td align="center">overlay2</td>
<td align="center">overlay¹, devicemapper², zfs, vfs</td>
</tr>
<tr>
<td align="center">Docker Engine - Community on Fedora</td>
<td align="center">overlay2</td>
<td align="center">overlay¹, devicemapper², zfs, vfs</td>
</tr>
</tbody></table>
<h3 id="Copy-on-write-Strategy"><a href="#Copy-on-write-Strategy" class="headerlink" title="Copy-on-write Strategy"></a>Copy-on-write Strategy</h3><blockquote>
<p>More detailed information, please visit <a target="_blank" rel="noopener" href="https://docker-docs.uclv.cu/storage/storagedriver/#the-copy-on-write-cow-strategy">the Official Website</a> here.</p>
</blockquote>
<table>
<thead>
<tr>
<th align="center">Operation</th>
<th align="center">Execution</th>
</tr>
</thead>
<tbody><tr>
<td align="center">Create files</td>
<td align="center">A new file can only be added to the container layer.</td>
</tr>
<tr>
<td align="center">Delete files</td>
<td align="center">Following the container’s layered structure, Docker looks from top to bottom. When the file is found, the delete operation is recorded in the container layer. The actual implementation is that UnionFS creates a “whiteout” file in the container layer, which effectively “masks” the deleted file.</td>
</tr>
<tr>
<td align="center">Modify files</td>
<td align="center">Docker follows the container’s layered structure from top to bottom. Once the file is found, the data from the image layer is copied to the container layer for modification. The modified data is then saved in the container layer (using copy-on-write).</td>
</tr>
<tr>
<td align="center">Read files</td>
<td align="center">Docker follows the container’s layered structure from top to bottom when reading files.</td>
</tr>
</tbody></table>
<hr>
<h2 id="Data-Management"><a href="#Data-Management" class="headerlink" title="Data Management"></a>Data Management</h2><p>There are generally two methods for persisting data in containers:</p>
<ol>
<li>volume</li>
<li>bind mount</li>
</ol>
<h3 id="Volume"><a href="#Volume" class="headerlink" title="Volume"></a>Volume</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">shy@flash-shy:~$ docker run -d --name volumetest -v /usr/local/apache2/htdocs httpd:latest</span><br><span class="line">6bd77a7a04bc9f0628135ccdf30d07f4e92f29cd631f9b5f54f196e7e04ebdd0</span><br><span class="line"></span><br><span class="line">shy@flash-shy:~$ docker exec -it volumetest /bin/bash</span><br><span class="line">root@6bd77a7a04bc:/usr/local/apache2# touch sunhaoyangfile</span><br><span class="line">root@6bd77a7a04bc:/usr/local/apache2#</span><br><span class="line">exit</span><br><span class="line"></span><br><span class="line">shy@flash-shy:~$ sudo find / -name sunhaoyangfile</span><br><span class="line">/var/lib/docker/overlay2/db6115d1b68b483e5a799e74aad3e51d1d4aa0fb7376916c38a09165e6ceaf21/diff/usr/local/apache2/sunhaoyangfile</span><br><span class="line">/var/lib/docker/overlay2/db6115d1b68b483e5a799e74aad3e51d1d4aa0fb7376916c38a09165e6ceaf21/merged/usr/local/apache2/sunhaoyangfile</span><br></pre></td></tr></table></figure>

<h3 id="Bind-Mount"><a href="#Bind-Mount" class="headerlink" title="Bind Mount"></a>Bind Mount</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">shy@flash-shy:~$ docker run -d --name volumetest2 -v /mnt:/usr/local/apache2/htdocs httpd:latest</span><br><span class="line">e0fd1f0d04f4875060a6a248b666662972625a491f2739ca1547ba678a8703fe</span><br><span class="line"></span><br><span class="line">shy@flash-shy:~$ docker exec -it volumetest2 /bin/bash</span><br><span class="line">root@e0fd1f0d04f4:/usr/local/apache2# cd htdocs/</span><br><span class="line">root@e0fd1f0d04f4:/usr/local/apache2/htdocs# ls</span><br><span class="line">root@e0fd1f0d04f4:/usr/local/apache2/htdocs# echo sunhaoyang &gt; index.html</span><br><span class="line">root@e0fd1f0d04f4:/usr/local/apache2/htdocs#</span><br><span class="line">exit</span><br><span class="line"></span><br><span class="line">shy@flash-shy:~$ ls -altF /mnt/</span><br><span class="line">total 12</span><br><span class="line">drwxr-xr-x  2 root root 4096 Feb  6 13:46 ./</span><br><span class="line">-rw-r--r--  1 root root   11 Feb  6 13:46 index.html</span><br><span class="line">drwxr-xr-x 25 root root 4096 Sep 13 19:40 ../</span><br></pre></td></tr></table></figure>

<h2 id="Sharing-data-between-the-host-machine-and-the-container"><a href="#Sharing-data-between-the-host-machine-and-the-container" class="headerlink" title="Sharing data between the host machine and the container"></a>Sharing data between the host machine and the container</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">shy@flash-shy:~$ docker run -d -p 9000:80 -v /mnt:/usr/local/apache2/htdocs httpd:latest</span><br><span class="line">81026dd8cafb6279974c56eaea04defe849dedbcda7361f4b9c805f2a2825682</span><br><span class="line"></span><br><span class="line">shy@flash-shy:~$ sudo cp index.html /mnt/index.html</span><br><span class="line"></span><br><span class="line">shy@flash-shy:~$ curl http://127.0.0.1:9000</span><br><span class="line">Hello, world!</span><br><span class="line">shy@flash-shy:~$ cat index.html</span><br><span class="line">Hello, world!</span><br></pre></td></tr></table></figure>

<h2 id="Sharing-data-between-containers"><a href="#Sharing-data-between-containers" class="headerlink" title="Sharing data between containers"></a>Sharing data between containers</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">shy@flash-shy:~$ docker run -d --name share01 -v /mnt:/usr/local/apache2/htdocs httpd:latest</span><br><span class="line">35a5398e8dde088dc17740115abcd9b3ab84b4db2363588c0dd7445c5856a251</span><br><span class="line"></span><br><span class="line">shy@flash-shy:~$ docker run -d --name share02 -v /mnt:/usr/local/apache2/htdocs httpd:latest</span><br><span class="line">f97301cbca77fda7b6e9127acc78577d6c2d23d52e71a7e16b90bf30629e7a78</span><br><span class="line"></span><br><span class="line">shy@flash-shy:~$ sudo cp index.html /mnt/index.html</span><br><span class="line"></span><br><span class="line">shy@flash-shy:~$ docker inspect -f &#x27;&#123;&#123;range .NetworkSettings.Networks&#125;&#125;&#123;&#123;.IPAddress&#125;&#125;&#123;&#123;end&#125;&#125;&#x27; share01</span><br><span class="line">172.17.0.3</span><br><span class="line"></span><br><span class="line">shy@flash-shy:~$ docker inspect -f &#x27;&#123;&#123;range .NetworkSettings.Networks&#125;&#125;&#123;&#123;.IPAddress&#125;&#125;&#123;&#123;end&#125;&#125;&#x27; share02</span><br><span class="line">172.17.0.4</span><br><span class="line"></span><br><span class="line">shy@flash-shy:~$ curl http://172.17.0.3</span><br><span class="line">Hello, world!</span><br><span class="line"></span><br><span class="line">shy@flash-shy:~$ curl http://172.17.0.4</span><br><span class="line">Hello, world!</span><br></pre></td></tr></table></figure>

<h2 id="Key-Points-about-sharing-data"><a href="#Key-Points-about-sharing-data" class="headerlink" title="Key Points about sharing data"></a>Key Points about sharing data</h2><ul>
<li><p>Sharing data between the host machine and the container:</p>
<ul>
<li><p>bind mount: <code>Mount a directory or file from the host machine into the container.</code></p>
</li>
<li><p>volume: <code>Copy data from the host machine to the container&#39;s volume by using the cp command to copy the required data into the volume&#39;s directory.</code></p>
</li>
</ul>
</li>
<li><p>Sharing data between containers:</p>
<ul>
<li><p>bind mount: <code>Mount a directory or file from the host machine into multiple containers.</code></p>
</li>
<li><p>volume: <code>Mount a volume into multiple containers.</code></p>
</li>
</ul>
</li>
</ul>
<p>Congratulations to you!</p>
<p>Up to now, I have already introduced all basic knowledge about docker to you.</p>
<p>That’s all I want to discuss here, thank you for your patience~</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a href="https://blog.sunhaoyang.net">Haoyang Sun</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="https://blog.sunhaoyang.net/Cloud/Docker/Introducing-container-network-and-practising-container-data-management/index.html">https://blog.sunhaoyang.net/Cloud/Docker/Introducing-container-network-and-practising-container-data-management/index.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">This article is licensed under a Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License. Please attribute the original author and source when sharing.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Docker/">Docker</a></div><div class="post-share"><div class="social-share" data-image="https://blog.sunhaoyang.net/images/Docker.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i>Buy Me a Coffee</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="https://blog.sunhaoyang.net/images/wechat.jpg" target="_blank"><img class="post-qr-code-img" src="https://blog.sunhaoyang.net/images/wechat.jpg" alt="Wechat"/></a><div class="post-qr-code-desc">Wechat</div></li><li class="reward-item"><a href="https://blog.sunhaoyang.net/images/alipay.jpg" target="_blank"><img class="post-qr-code-img" src="https://blog.sunhaoyang.net/images/alipay.jpg" alt="Alipay"/></a><div class="post-qr-code-desc">Alipay</div></li></ul></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related full-width" href="/Language/English/20250205/index.html" title="2025/02/05 English accumulation"><img class="cover" src="https://blog.sunhaoyang.net/images/English.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">Next</div><div class="info-item-2">2025/02/05 English accumulation</div></div><div class="info-2"><div class="info-item-1">Here, I will document my understanding of how to accumulate knowledge in a new language (English). This is an ongoing process and requires time. However, with practice it becomes easier as you get better at reading comprehension speedily.</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/Cloud/Docker/Managing-container-resources/index.html" title="Docker Series (Chapter 3&#x2F;4): Managing Container Resources"><img class="cover" src="https://blog.sunhaoyang.net/images/Docker.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-01-27</div><div class="info-item-2">Docker Series (Chapter 3&#x2F;4): Managing Container Resources</div></div><div class="info-2"><div class="info-item-1">This article mainly introduces memory quotas, CPU quotas, and disk quotas for containers.</div></div></div></a><a class="pagination-related" href="/Cloud/Docker/Creating-and-using-containers/index.html" title="Docker Series (Chapter 2&#x2F;4): Creating and Using containers"><img class="cover" src="https://blog.sunhaoyang.net/images/Docker.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-01-27</div><div class="info-item-2">Docker Series (Chapter 2&#x2F;4): Creating and Using containers</div></div><div class="info-2"><div class="info-item-1">This article introduces how to create a container based on an existing images and manage container resources as well.</div></div></div></a><a class="pagination-related" href="/Cloud/Docker/Building-and-using-images/index.html" title="Docker Series (Chapter 1&#x2F;4): Building and using images"><img class="cover" src="https://blog.sunhaoyang.net/images/Docker.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-01-24</div><div class="info-item-2">Docker Series (Chapter 1&#x2F;4): Building and using images</div></div><div class="info-2"><div class="info-item-1">This article introduces how to build a docker image and how to use the image to create the docker container.</div></div></div></a><a class="pagination-related" href="/Cloud/Docker/Installing-docker-engine-in-Ubuntu/index.html" title="Docker Series (Chapter 0&#x2F;4): Installing docker-engine in Ubuntu"><img class="cover" src="https://blog.sunhaoyang.net/images/Docker.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-01-23</div><div class="info-item-2">Docker Series (Chapter 0&#x2F;4): Installing docker-engine in Ubuntu</div></div><div class="info-2"><div class="info-item-1">This article introduces the origins of Docker, its application scenarios, and the installation method in Ubuntu.</div></div></div></a></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> Comments</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="https://blog.sunhaoyang.net/images/myphoto.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Haoyang Sun</div><div class="author-info-description">DevOps Engineer, Cloud-native Engineer, Open-source technology enthusiast</div><div class="site-data"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">15</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">5</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">4</div></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content"><div class="center-content" style="text-align: center;">
    <p>My blog is now live!</p>
    <p>Hello everyone! Thank you for visiting my blog!</p>
    <p>Here, I will share my thoughts and reflections on various technologies and aspects of life.</p>
    <p>Please stay tuned for updates!:)</p>
    <p>If you’re interested in discussing any topic with me, feel free to leave a comment or reach out through the contact information provided below.</p>
    <p>Email: Flash_shy@163.com</p>
    <p>QQ ID: 1135300457</p>
    <p>Wechat ID: Flash_sunhy</p>
</div>
</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Ice-breaking-topic"><span class="toc-number">1.</span> <span class="toc-text">Ice-breaking topic</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Container-Original-Network"><span class="toc-number">2.</span> <span class="toc-text">Container Original Network</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#none-network"><span class="toc-number">2.1.</span> <span class="toc-text">none network</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#host-network"><span class="toc-number">2.2.</span> <span class="toc-text">host network</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bridge-network"><span class="toc-number">2.3.</span> <span class="toc-text">bridge network</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Key-Points-of-three-types-network"><span class="toc-number">2.4.</span> <span class="toc-text">Key Points of three types network</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Container-Storage"><span class="toc-number">3.</span> <span class="toc-text">Container Storage</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#The-Container-and-Layer"><span class="toc-number">3.1.</span> <span class="toc-text">The Container and Layer</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Widely-Used-Storage-Drivers"><span class="toc-number">3.2.</span> <span class="toc-text">Widely Used Storage Drivers</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Copy-on-write-Strategy"><span class="toc-number">3.3.</span> <span class="toc-text">Copy-on-write Strategy</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Data-Management"><span class="toc-number">4.</span> <span class="toc-text">Data Management</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Volume"><span class="toc-number">4.1.</span> <span class="toc-text">Volume</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Bind-Mount"><span class="toc-number">4.2.</span> <span class="toc-text">Bind Mount</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Sharing-data-between-the-host-machine-and-the-container"><span class="toc-number">5.</span> <span class="toc-text">Sharing data between the host machine and the container</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Sharing-data-between-containers"><span class="toc-number">6.</span> <span class="toc-text">Sharing data between containers</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Key-Points-about-sharing-data"><span class="toc-number">7.</span> <span class="toc-text">Key Points about sharing data</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Posts</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/Cloud/Docker/Introducing-container-network-and-practising-container-data-management/index.html" title="Docker Series (Chapter 4/4): Introducing Container Network and Practising Container Data Management"><img src="https://blog.sunhaoyang.net/images/Docker.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Docker Series (Chapter 4/4): Introducing Container Network and Practising Container Data Management"/></a><div class="content"><a class="title" href="/Cloud/Docker/Introducing-container-network-and-practising-container-data-management/index.html" title="Docker Series (Chapter 4/4): Introducing Container Network and Practising Container Data Management">Docker Series (Chapter 4/4): Introducing Container Network and Practising Container Data Management</a><time datetime="2025-02-06T02:41:33.000Z" title="Created 2025-02-06 10:41:33">2025-02-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/Language/English/20250205/index.html" title="2025/02/05 English accumulation"><img src="https://blog.sunhaoyang.net/images/English.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="2025/02/05 English accumulation"/></a><div class="content"><a class="title" href="/Language/English/20250205/index.html" title="2025/02/05 English accumulation">2025/02/05 English accumulation</a><time datetime="2025-02-05T01:23:03.000Z" title="Created 2025-02-05 09:23:03">2025-02-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/Cloud/Docker/Managing-container-resources/index.html" title="Docker Series (Chapter 3/4): Managing Container Resources"><img src="https://blog.sunhaoyang.net/images/Docker.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Docker Series (Chapter 3/4): Managing Container Resources"/></a><div class="content"><a class="title" href="/Cloud/Docker/Managing-container-resources/index.html" title="Docker Series (Chapter 3/4): Managing Container Resources">Docker Series (Chapter 3/4): Managing Container Resources</a><time datetime="2025-01-27T05:46:50.000Z" title="Created 2025-01-27 13:46:50">2025-01-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/Cloud/Docker/Creating-and-using-containers/index.html" title="Docker Series (Chapter 2/4): Creating and Using containers"><img src="https://blog.sunhaoyang.net/images/Docker.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Docker Series (Chapter 2/4): Creating and Using containers"/></a><div class="content"><a class="title" href="/Cloud/Docker/Creating-and-using-containers/index.html" title="Docker Series (Chapter 2/4): Creating and Using containers">Docker Series (Chapter 2/4): Creating and Using containers</a><time datetime="2025-01-27T00:55:24.000Z" title="Created 2025-01-27 08:55:24">2025-01-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/Management/Scrum/Scrum-Guide2/index.html" title="Scrum Guide (Part2 of 2)"><img src="https://blog.sunhaoyang.net/images/Scrum.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Scrum Guide (Part2 of 2)"/></a><div class="content"><a class="title" href="/Management/Scrum/Scrum-Guide2/index.html" title="Scrum Guide (Part2 of 2)">Scrum Guide (Part2 of 2)</a><time datetime="2025-01-26T05:13:34.000Z" title="Created 2025-01-26 13:13:34">2025-01-26</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2024 - 2025 By Haoyang Sun</div><div class="footer_custom_text"><a href="https://beian.mps.gov.cn/#/query/webSearch" target="_blank">
  <span>辽公网安备21029602001011号</span>
</a>
<a href="https://beian.miit.gov.cn/" target="_blank">
  <span>辽ICP备2025048274号-1</span>
</a>
</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Reading Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light and Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle Between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Settings"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table of Contents"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="Scroll to Comments"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="Back to Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"><script>(() => {
  const isShuoshuo = GLOBAL_CONFIG_SITE.isShuoshuo
  const option = null

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://twikoo-alpha-five.vercel.app/',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(res => {
      countELement.textContent = res[0].count
    }).catch(err => {
      console.error(err)
    })
  }

  const init = (el = document, path = location.pathname) => {
    twikoo.init({
      el: el.querySelector('#twikoo-wrap'),
      envId: 'https://twikoo-alpha-five.vercel.app/',
      region: '',
      onCommentLoaded: () => {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      },
      ...option,
      path: isShuoshuo ? path : (option && option.path) || path
    })

    GLOBAL_CONFIG_SITE.isPost && getCount()

    isShuoshuo && (window.shuoshuoComment.destroyTwikoo = () => {
      if (el.children.length) {
        el.innerHTML = ''
        el.classList.add('no-comment')
      }
    })
  }

  const loadTwikoo = (el, path) => {
    if (typeof twikoo === 'object') setTimeout(() => init(el, path), 0)
    else btf.getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(() => init(el, path))
  }

  if (isShuoshuo) {
    'Twikoo' === 'Twikoo'
      ? window.shuoshuoComment = { loadComment: loadTwikoo }
      : window.loadOtherComment = loadTwikoo
    return
  }

  if ('Twikoo' === 'Twikoo' || !false) {
    if (false) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = loadTwikoo
  }
})()</script></div><div class="aplayer no-destroy" data-id="7613104556" data-server="netease" data-type="playlist" data-fixed="true" data-autoplay="false"> </div><script defer="defer" id="fluttering_ribbon" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-heart.min.js" async="async" mobile="false"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script>(() => {
  const destroyAplayer = () => {
    if (window.aplayers) {
      for (let i = 0; i < window.aplayers.length; i++) {
        if (!window.aplayers[i].options.fixed) {
          window.aplayers[i].destroy()
        }
      }
    }
  }

  const runMetingJS = () => {
    typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()
  }

  btf.addGlobalFn('pjaxSend', destroyAplayer, 'destroyAplayer')
  btf.addGlobalFn('pjaxComplete', loadMeting, 'runMetingJS')
})()</script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>(() => {
  const pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

  window.pjax = new Pjax({
    elements: 'a:not([target="_blank"])',
    selectors: pjaxSelectors,
    cacheBust: false,
    analytics: false,
    scrollRestoration: false
  })

  const triggerPjaxFn = (val) => {
    if (!val) return
    Object.values(val).forEach(fn => fn())
  }

  document.addEventListener('pjax:send', () => {
    // removeEventListener
    btf.removeGlobalFnEvent('pjaxSendOnce')
    btf.removeGlobalFnEvent('themeChange')

    // reset readmode
    const $bodyClassList = document.body.classList
    if ($bodyClassList.contains('read-mode')) $bodyClassList.remove('read-mode')

    triggerPjaxFn(window.globalFn.pjaxSend)
  })

  document.addEventListener('pjax:complete', () => {
    btf.removeGlobalFnEvent('pjaxCompleteOnce')
    document.querySelectorAll('script[data-pjax]').forEach(item => {
      const newScript = document.createElement('script')
      const content = item.text || item.textContent || item.innerHTML || ""
      Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
      newScript.appendChild(document.createTextNode(content))
      item.parentNode.replaceChild(newScript, item)
    })

    triggerPjaxFn(window.globalFn.pjaxComplete)
  })

  document.addEventListener('pjax:error', e => {
    if (e.request.status === 404) {
      pjax.loadUrl('/404.html')
    }
  })
})()</script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>